<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>CK资讯网 - 开发</title><link href="http://localhost:8000/" rel="alternate"></link><link href="http://localhost:8000/feeds/kai-fa.atom.xml" rel="self"></link><id>http://localhost:8000/</id><updated>2023-05-22T23:00:00+08:00</updated><entry><title>腾讯云使用COS上传和下载</title><link href="http://localhost:8000/teng-xun-yun-shi-yong-cosshang-chuan-he-xia-zai.html" rel="alternate"></link><published>2023-05-22T23:00:00+08:00</published><updated>2023-05-22T23:00:00+08:00</updated><author><name></name></author><id>tag:localhost,2023-05-22:/teng-xun-yun-shi-yong-cosshang-chuan-he-xia-zai.html</id><summary type="html">&lt;p&gt;在使用腾讯云COS进行文件上传和下载前，需要先完成一些准备工作。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;注册腾讯云账号，并创建COS存储桶。控制台创建存储桶的页面中提供了创建新存储桶 ...&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;在使用腾讯云COS进行文件上传和下载前，需要先完成一些准备工作。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;注册腾讯云账号，并创建COS存储桶。控制台创建存储桶的页面中提供了创建新存储桶的选项，可以按需设置存储桶属性，例如地域、读写权限等。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;为COS存储桶添加对象。COS存储桶中每个对象都有自己的唯一键（Key），可以通过这个键来标识存储桶中的特定对象。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取腾讯云密钥ID和密钥key。密钥ID和密钥key是接入COS服务的必要信息，授权访问API或SDK，保证数据安全。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!--more--&gt;
&lt;p&gt;完成上述步骤后，就可以开始进行文件上传和下载了。&lt;/p&gt;
&lt;h2&gt;文件上传&lt;/h2&gt;
&lt;p&gt;COS支持多种方式上传文件：控制台上传、命令行上传、API调用或者SDK调用。下面演示一种基于COS CMD命令行工具的上传示例。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;安装COScmd&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pip install coscmd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;配置密钥信息&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在本地&lt;code&gt;~/.cos/conf&lt;/code&gt;目录下创建一个&lt;code&gt;config&lt;/code&gt;文件，内容如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[common]&lt;/span&gt;
&lt;span class="na"&gt;secret_id&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;YOUR_SECRET_ID&lt;/span&gt;
&lt;span class="na"&gt;secret_key&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;YOUR_SECRET_KEY&lt;/span&gt;
&lt;span class="na"&gt;region&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;YOUR_REGION&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;其中&lt;code&gt;YOUR_SECRET_ID&lt;/code&gt;和&lt;code&gt;YOUR_SECRET_KEY&lt;/code&gt;需要将其替换为您自己的腾讯云&lt;code&gt;secret_id&lt;/code&gt;和&lt;code&gt;secret_key&lt;/code&gt;，&lt;code&gt;YOUR_REGION&lt;/code&gt;需要替换成想要保存文件的地区。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;上传文件&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;通过执行COScmd命令将本地文件上传到指定存储桶的指定路径下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;coscmd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;upload&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;bucket&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="ow"&gt;in&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nb"&gt;cos&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;其中&lt;code&gt;/path/to/local/file&lt;/code&gt;为本地文件的路径，&lt;code&gt;bucket-name&lt;/code&gt;为存储桶名称，&lt;code&gt;path/in/cos/&lt;/code&gt;为要上传到存储桶中的目标路径。&lt;/p&gt;
&lt;h2&gt;文件下载&lt;/h2&gt;
&lt;p&gt;COS提供了多种方式下载文件，如控制台下载、API调用或者SDK调用，这里演示一种基于COS CLI命令行工具的下载示例。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;安装COScli&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pip install coscmd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;配置密钥信息，同上传时。（若已配置，可跳过）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;下载文件&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;通过执行COScli命令将存储桶中的对象下载到本地：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;coscmd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;download&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;bucket_name&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;of&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;object&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;local&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;其中，&lt;code&gt;bucket_name&lt;/code&gt;为存储桶名，&lt;code&gt;path/of/object&lt;/code&gt;为对象路径，&lt;code&gt;/local/path/to/save&lt;/code&gt;为本地路径。&lt;/p&gt;
&lt;p&gt;注意事项：下载文件时默认是私有读写，如果要公开可读，需要在权限策略中进行配置。&lt;/p&gt;</content><category term="开发"></category><category term="腾讯云"></category><category term="cloud"></category><category term="DEVOPS"></category></entry></feed>